function create_charts(t,e,n,o,r,a,s){var k=document.getElementById("from"),P=document.getElementById("to"),O={match:"rgb(43, 144, 143)",new:"rgb(144, 237, 125)",moved:"rgb(124, 181, 236)",transparent:"rgba(0, 0, 0, 0)"};var l=[];var c=function(a,t,e,o){function h(t){k.currentTime=t,k.play()}function f(t){P.currentTime=t,P.play()}var v={match:0,moved_left:1,moved_right:2,new_left:3,new_right:4};function g(t){return hours=Math.floor(t/3600),t%=3600,minutes=Math.floor(t/60),temp=t%=60,t=Math.floor(t),milliseconds=Math.round(1e3*(temp-t)),minutes=10<=minutes?""+minutes:"0"+minutes,t=10<=t?""+t:"0"+t,milliseconds=100<=milliseconds?""+milliseconds:10<milliseconds?"0"+milliseconds:"00"+milliseconds,hours+":"+minutes+":"+t+"."+milliseconds}function n(e,n,t,i,r,a,o){var s=null,l=((s=o?n:e)+t)/r,c=g(s/r)+"â€“"+g(l),m="",d=null;d=o?i==v.new_left||i==v.moved_left?(m="invisible",O.transparent):i==v.match?O.match:i==v.new_right?O.new:O.moved:i==v.new_right||i==v.moved_right?(m="invisible",O.transparent):i==v.match?O.match:i==v.new_left?O.new:O.moved;var u={};return"invisible"!=m&&(d==O.match?(u.mouseOver=function(t){p(),x(a,0),x(a,1)},u.mouseOut=function(t){y()},u.click=function(t){h(e/r),f(n/r)}):i==v.new_left?u.click=function(t){h(e/r)}:i==v.new_right?u.click=function(t){f(n/r)}:u.mouseOut=function(t){y()}),{name:c,y:t,className:m,color:d,events:u}}function s(t){t.graphic.addClass("transparent")}function l(t){t.graphic.removeClass("transparent")}function x(t,e){l(chart.series[t].data[e]),l(master.series[t].data[e])}function p(){for(var t=chart.series,e=master.series,n=t.length,i=0;i<n;i++){var r;s((r=t[i].data)[0]),s(r[1]),s((r=e[i].data)[0]),s(r[1])}}function y(){for(var t=chart.series,e=master.series,n=t.length,i=0;i<n;i++){var r;l((r=t[i].data)[0]),l(r[1]),l((r=e[i].data)[0]),l(r[1])}}for(var c=[],i=0,r=0,m=[],d=[],u=0;u<a.length;u+=1){var b=a[u],w=t[u];m.push(i),d.push(r),c.push({data:[n(i,r,b,w,o,a.length-u-1,!1),n(i,r,b,w,o,a.length-u-1,!0)]}),w!=v.match&&w!=v.new_left&&w!=v.moved_left||(i+=b),w!=v.match&&w!=v.new_right&&w!=v.moved_right||(r+=b)}var _=0;for(u=0;u<t.length;u+=1){if((w=t[u])==v.moved_left){var A=e[_];_+=1,function(){var t=c[u].data[0].events,e=a.length-u-1,n=a.length-A-1,i=m[u]/o,r=d[A]/o;t.mouseOver=function(t){p(),x(e,0),x(n,1)},t.click=function(t){h(i),f(r)}}()}else if(w==v.moved_right){A=e[_];_+=1,function(){var t=c[u].data[1].events,e=a.length-A-1,n=a.length-u-1,i=m[A]/o,r=d[u]/o;t.mouseOver=function(t){p(),x(e,0),x(n,1)},t.click=function(t){h(i),f(r)}}()}}return c.reverse(),c}(t,e,n,o);function m(t,e){yAxis=master.yAxis[0],yAxis.removePlotBand("mask"),yAxis.addPlotBand({id:"mask",from:t,to:e,color:"rgba(102, 133, 194, 0.3)"})}function d(t,e){for(var n=0,i=c.length-1;0<i;i-=1){var r=null;if((r=t?c[i].data[1]:c[i].data[0]).color!=O.transparent){if(!(e>=r.y))return n+e;e-=r.y,n+=r.y}else n+=r.y}}master=Highcharts.chart("master-container",{chart:{type:"bar",zoomType:"y",events:{selection:function(t){var e=t.yAxis[0],n=e.min,i=e.max;return m(n,i),chart.yAxis[0].setExtremes(n,i),chart.resetZoomButton||chart.showResetZoom(),!1}}},title:{text:null},xAxis:{visible:!1},yAxis:{gridLineWidth:0,min:0,maxPadding:0,endOnTick:!1,title:{text:null}},legend:{enabled:!1},plotOptions:{series:{stacking:"normal"}},tooltip:{formatter:function(){return!1}},series:c,exporting:{enabled:!1}},function(t){!function(t,i){chart=Highcharts.chart("detail-container",{chart:{type:"bar",zoomType:"y",events:{selection:function(t){var e,n=t.yAxis;m((e=n?n[0]:i.yAxis[0].getExtremes()).min,e.max)}}},title:{text:null},credits:{enabled:!1},xAxis:{categories:[r,a]},yAxis:{min:0,maxPadding:0,endOnTick:!1,gridLineWidth:0,title:{text:null}},legend:{enabled:!1},plotOptions:{series:{stacking:"normal",groupPadding:0}},tooltip:{formatter:function(){return""!=this.point.name&&this.point.name+"<br /><b>"+this.y+"</b> "+s}},series:t},function(t){var e=t,n=t.yAxis[0],i=(n.toPixels(10),n.toPixels(12),(e.chartHeight-n.bottom-n.top)/2);l[0]=t.renderer.rect(0,n.top,5,i).attr({fill:"#f45b5b",zIndex:4}).add(),l[1]=t.renderer.rect(0,n.top+i,5,i).attr({fill:"#f45b5b",zIndex:4}).add()})}(c,t),t.yAxis[0].addPlotBand({id:"mask",from:0,to:t.yAxis[0].getExtremes().max,color:"rgba(102, 133, 194, 0.3)"})}),window.requestAnimationFrame(function t(){var e=chart.yAxis[0],n=d(!1,k.currentTime*o),i=d(!0,P.currentTime*o),r=e.toPixels(n),a=e.toPixels(i);l[0].translate(r,0),l[1].translate(a,0),r<e.left||r>=e.left+e.width?l[0].hide():l[0].show(),a<e.left||a>=e.left+e.width?l[1].hide():l[1].show(),window.requestAnimationFrame(t)})}
